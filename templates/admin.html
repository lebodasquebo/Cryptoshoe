<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin - Cryptoshoe</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
  <link rel="stylesheet" href="/static/admin.css">
</head>
<body>
  <div class="bg-grid"></div>
  <nav class="navbar">
    <div class="nav-inner">
      <a href="/" class="nav-logo">
        <span class="logo-icon">ğŸ‘Ÿ</span>
        <span class="logo-text">CRYPTO<span class="accent">SHOE</span></span>
      </a>
      <div class="nav-links">
        <a href="/" class="nav-link"><span class="nav-icon">ğŸ“ˆ</span><span class="nav-text">Market</span></a>
        <a href="/inventory" class="nav-link"><span class="nav-icon">ğŸ’</span><span class="nav-text">Inventory</span></a>
        <a href="/gambling" class="nav-link"><span class="nav-icon">ğŸ°</span><span class="nav-text">Gambling</span></a>
        <a href="/appraise" class="nav-link"><span class="nav-icon">ğŸ”</span><span class="nav-text">Appraise</span></a>
        <a href="/users" class="nav-link"><span class="nav-icon">ğŸ¤</span><span class="nav-text">Trade</span></a>
        <a href="/chat" class="nav-link"><span class="nav-icon">ğŸ’¬</span><span class="nav-text">Chat</span></a>
        <a href="/admin" class="nav-link nav-admin active"><span class="nav-icon">ğŸ”</span><span class="nav-text">Admin</span></a>
      </div>
      <div class="nav-user">
        <div class="nav-bal"><div class="bal-label">BALANCE</div><div class="bal-val">$<span id="bal">0.00</span></div></div>
        <a href="/logout" class="nav-logout" title="Logout">ğŸšª</a>
      </div>
    </div>
  </nav>
  <main class="admin-main">
    <h1>ğŸ” Admin Panel</h1>
    
    <div class="admin-grid">
      <section class="admin-section">
        <h2>ğŸ’° Manage Money</h2>
        <div class="admin-form">
          <input type="text" id="money-user" placeholder="Username">
          <input type="number" id="money-amount" placeholder="Amount (+/-)">
          <button onclick="giveMoney()">Apply</button>
        </div>
      </section>
      
      <section class="admin-section">
        <h2>ğŸ‘Ÿ Give/Take Shoes</h2>
        <div class="admin-form" style="margin-bottom:8px;">
          <select id="rarity-filter" onchange="filterRarity()" style="width:120px;">
            <option value="">All Rarities</option>
            <option value="common">Common</option>
            <option value="uncommon">Uncommon</option>
            <option value="rare">Rare</option>
            <option value="epic">Epic</option>
            <option value="legendary">Legendary</option>
            <option value="mythic">Mythic</option>
            <option value="godly">Godly</option>
            <option value="divine">Divine</option>
            <option value="grails">Grails</option>
            <option value="heavenly">Heavenly</option>
          </select>
        </div>
        <div class="admin-form">
          <input type="text" id="shoe-user" placeholder="Username">
          <select id="shoe-select"></select>
          <input type="number" id="shoe-qty" placeholder="Qty" value="1" min="1" style="width:60px">
          <button class="give-btn" onclick="giveShoe()">Give</button>
          <button class="take-btn" onclick="takeShoe()">Take</button>
        </div>
        <div class="admin-form" style="margin-top:8px;">
          <label style="display:flex;align-items:center;gap:8px;">
            <input type="checkbox" id="shoe-appraised">
            <span>Pre-Appraised</span>
          </label>
          <select id="shoe-variant" style="width:100px;">
            <option value="">Normal</option>
            <option value="shiny">Shiny</option>
            <option value="rainbow">Rainbow</option>
          </select>
          <input type="number" id="shoe-rating" placeholder="Rating%" min="0" max="200" style="width:80px;">
        </div>
      </section>
      
      <section class="admin-section">
        <h2>ğŸš« Ban User</h2>
        <div class="admin-form">
          <input type="text" id="ban-user" placeholder="Username">
          <select id="ban-duration">
            <option value="1h">1 Hour</option>
            <option value="6h">6 Hours</option>
            <option value="1d">1 Day</option>
            <option value="7d">7 Days</option>
            <option value="30d">30 Days</option>
            <option value="perm">Permanent</option>
          </select>
          <button class="ban-btn" onclick="banUser()">Ban</button>
          <button class="give-btn" onclick="unbanUser()">Unban</button>
        </div>
      </section>
      
      <section class="admin-section">
        <h2>ğŸ“¦ Stock Control</h2>
        <button onclick="resetStock()" class="refresh-btn">Force Stock Refresh</button>
        <div class="admin-form" style="margin-top:12px;">
          <select id="add-shoe-id" style="flex:2;">
            <option value="">Select Shoe...</option>
          </select>
          <input type="number" id="add-shoe-stock" placeholder="Qty" value="5" style="width:70px;">
          <input type="number" id="add-shoe-price" placeholder="Price (optional)" style="width:100px;">
          <button onclick="addToStock()" class="give-btn">Add to Stock</button>
        </div>
      </section>
      
      <section class="admin-section">
        <h2>ğŸ¤– Bot Cleanup</h2>
        <button onclick="purgeBots()" class="ban-btn">Purge Bot Accounts</button>
      </section>
      
      <section class="admin-section">
        <h2>ğŸ’¬ Chat Control</h2>
        <button onclick="clearChat()" class="ban-btn">Clear All Chat</button>
      </section>
      
      <section class="admin-section">
        <h2>ğŸŒ IP Ban</h2>
        <div class="admin-form">
          <input type="text" id="ip-ban-user" placeholder="Username">
          <select id="ip-ban-duration">
            <option value="1h">1 Hour</option>
            <option value="6h">6 Hours</option>
            <option value="1d" selected>1 Day</option>
            <option value="7d">7 Days</option>
            <option value="30d">30 Days</option>
            <option value="perm">Permanent</option>
          </select>
          <button onclick="banIP()" class="ban-btn">Ban IP</button>
        </div>
      </section>
      
      <section class="admin-section">
        <h2>âš™ï¸ Rate Limiting</h2>
        <div class="admin-form">
          <button id="rate-limit-toggle" onclick="toggleSignupRateLimit()" class="refresh-btn">Toggle Signup Rate Limit</button>
          <span id="rate-limit-status" style="margin-left:12px;font-size:14px;"></span>
        </div>
      </section>
      
      <section class="admin-section">
        <h2>ğŸ” Suspicious Users</h2>
        <button onclick="loadSuspicious()" class="refresh-btn">Check Suspicious</button>
        <div id="suspicious-list" style="margin-top:12px;font-size:14px;"></div>
      </section>
    </div>

    <h2 class="section-divider">ğŸ­ Troll Controls</h2>
    
    <div class="admin-grid">
      <section class="admin-section troll-section">
        <h2>ğŸ”„ Swap Balances</h2>
        <div class="admin-form">
          <input type="text" id="swap-bal-1" placeholder="User 1">
          <span class="swap-icon">â‡„</span>
          <input type="text" id="swap-bal-2" placeholder="User 2">
          <button onclick="swapBalance()">Swap $</button>
        </div>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ‘Ÿ Swap Inventories</h2>
        <div class="admin-form">
          <input type="text" id="swap-inv-1" placeholder="User 1">
          <span class="swap-icon">â‡„</span>
          <input type="text" id="swap-inv-2" placeholder="User 2">
          <button onclick="swapInventory()">Swap ğŸ‘Ÿ</button>
        </div>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ“¢ Announcement</h2>
        <div class="admin-form">
          <input type="text" id="broadcast-msg" placeholder="Message to all users" style="flex:2">
          <select id="broadcast-duration">
            <option value="30">30s</option>
            <option value="60" selected>1min</option>
            <option value="300">5min</option>
            <option value="600">10min</option>
            <option value="1800">30min</option>
          </select>
          <button onclick="broadcast()">ğŸ“¢ Broadcast</button>
        </div>
        <p class="hint">Shows banner on all screens</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ’° Money Rain</h2>
        <div class="admin-form">
          <input type="number" id="rain-amount" placeholder="Amount per user">
          <button class="give-btn" onclick="moneyRain()">ğŸ’¸ Rain!</button>
        </div>
        <p class="hint">Give $ to ALL users</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ’¸ Tax Everyone</h2>
        <div class="admin-form">
          <input type="number" id="tax-percent" placeholder="%" min="1" max="100">
          <button class="take-btn" onclick="taxAll()">Collect Tax</button>
        </div>
        <p class="hint">Take % from ALL users</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ’€ Bankrupt User</h2>
        <div class="admin-form">
          <input type="text" id="bankrupt-user" placeholder="Username">
          <button class="ban-btn" onclick="bankruptUser()">$0</button>
        </div>
        <p class="hint">Set balance to $0</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ° Random Jackpot</h2>
        <div class="admin-form">
          <input type="number" id="jackpot-amount" placeholder="Prize amount">
          <button class="give-btn" onclick="jackpot()">ğŸ‰ Draw!</button>
        </div>
        <p class="hint">Random user wins</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ² Double or Nothing</h2>
        <div class="admin-form">
          <input type="text" id="double-user" placeholder="Username">
          <button onclick="doubleOrNothing()">ğŸ² Roll!</button>
        </div>
        <p class="hint">50% 2x, 50% $0</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸŒ€ Shuffle Shoes</h2>
        <div class="admin-form">
          <input type="text" id="shuffle-user" placeholder="Username">
          <button class="ban-btn" onclick="shuffleShoes()">Shuffle!</button>
        </div>
        <p class="hint">Redistribute to random users</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ° Gift Bomb</h2>
        <div class="admin-form">
          <input type="text" id="gift-user" placeholder="Username">
          <input type="number" id="gift-count" placeholder="Count" value="10" style="width:70px">
          <button class="give-btn" onclick="giftBomb()">Bomb!</button>
        </div>
        <p class="hint">Random shoes galore</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ˜ˆ Fake Win</h2>
        <div class="admin-form">
          <input type="text" id="fake-user" placeholder="Username">
          <input type="number" id="fake-amount" placeholder="Fake $" value="1000000" style="width:100px">
          <button onclick="fakeWin()">Troll!</button>
        </div>
        <p class="hint">They didn't really win ğŸ˜ˆ</p>
      </section>
      
      <section class="admin-section troll-section">
        <h2>ğŸ° Wheel of Fortune</h2>
        <div class="admin-form">
          <input type="text" id="wheel-user" placeholder="Username (or random)">
          <button class="give-btn" onclick="wheelOfFortune()">ğŸ° SPIN!</button>
        </div>
        <p class="hint">Random outcome for user!</p>
      </section>
    </div>
    
    <h2 class="section-divider">âš–ï¸ Courtroom</h2>
    
    <div class="admin-grid">
      <section class="admin-section court-section">
        <h2>ğŸš¨ Start Trial</h2>
        <div class="admin-form">
          <input type="text" id="court-defendant" placeholder="Defendant username">
          <input type="text" id="court-accusation" placeholder="Accusation" style="flex:2">
          <button class="ban-btn" onclick="startTrial()">âš–ï¸ Begin</button>
        </div>
        <div id="court-status" class="court-status"></div>
      </section>
      
      <section class="admin-section court-section">
        <h2>ğŸ“œ Add Charge</h2>
        <div class="admin-form">
          <input type="text" id="new-charge" placeholder="New accusation/charge" style="flex:2">
          <button onclick="addCharge()">Add</button>
        </div>
      </section>
      
      <section class="admin-section court-section">
        <h2>ğŸ”¨ Deliver Verdict</h2>
        <div class="admin-form">
          <select id="verdict-choice">
            <option value="guilty">GUILTY</option>
            <option value="innocent">INNOCENT</option>
          </select>
          <input type="text" id="verdict-punishment" placeholder="Punishment (if guilty)">
          <button class="give-btn" onclick="deliverVerdict()">Verdict!</button>
        </div>
      </section>
      
      <section class="admin-section court-section">
        <h2>ğŸ”š End Session</h2>
        <button class="ban-btn" onclick="endCourt()">Adjourn Court</button>
        <p class="hint">Close court and release everyone</p>
      </section>
    </div>
    
    <section class="admin-section users-section">
      <h2>ğŸ‘¥ All Users</h2>
      <div id="users-list"></div>
    </section>
  </main>
  <div id="toast" class="toast"></div>
  <script src="/static/admin.js?v=3"></script>
</body>
</html>
